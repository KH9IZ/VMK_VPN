# ВМК VPN!

_Welcome to the club, body!_

Данный репозиторий содержит файлы для разработки и развертывания telegram бота предоставляющего доступ к виртуальной частной сети на базе WireGuard по подписке.
Ниже приведен интерфейс работы бота в виде блок схемы 

<img src="https://user-images.githubusercontent.com/22713174/174499031-cfe9e47f-24b3-4bcd-96b3-a9c7347d1861.png" data-canonical-src="https://user-images.githubusercontent.com/22713174/174499031-cfe9e47f-24b3-4bcd-96b3-a9c7347d1861.png" width="820" height="1000" />

## Дисциплина оформления коммитов
В проекте принята классическая дисциплина оформления коммит сообщений. 
Рекоммендуется писать одно короткое предложение в заголовок коммита с изложением о проделанной работе.
Подробное описание отделяется пустой строкой и содержит в себе дополнительную информацию о коммите.
Также рекоммендуется прикладывать ссылки на внешнюю информацию.

Пример коммит сообщения:
```
Fixed critical problems with earth gravity.

Earth gravity constant was changed from 10 to 9.8.
Fixed issue #123 and #999
```

## Дисциплина оформления Pull Request'ов
- Перед отправкой кода на merge с upstream'ом все файлы должны быть прогнанны через pylint и pydocstyle, а так же через тесты. *Для этого есть специальные сценарии в Makefile.*;
- По возможности максимально аннотируйте все объекты вашего коммита. Функции предназначенные для использования другими программистами подлежат обязательному аннотированию;
- Наличие docstring обязатеьно для всех функций. Так же для функций предназначенных для массового использования обяательно документировать все параметры и возвращаемое значение с указанием типов;
- Тестовое покрытие - опционально, но **очень желательно**;
- Перевод: обязательно оборачивать все сообщения пользователю в `_(...)`. Сам перевод, так же **очень желателен**.
- **В репозитории не хранятся генераты!**

## Текущие задачи
- [ ] При /start отправлять подписанным и обычным пользователям разные сообщения;
- [ ] Реализовать оплату;
- [ ] Завести в базу данных вопросы и ответы;
- [x] Реализовать меню FAQ;
- [ ] Реализовать серьёзное логирование;
- [ ] Поддерживать смену языка индивидуально для каждого пользователя;
- [ ] Описать алгоритм демона-удалятора людей с окончившейся подпиской + напоминатора об окончании подписки;
- [ ] Сообщение с конфигом;
- [ ] Выгонка документации;
- [ ] DevOps штучки.

## Задачи со *
- [ ] Реализовать однодневный тестовый период;
- [ ] Обеспечить защиту от копирования конфигов по устройствам (вариант с MAC-адресами);
- [ ] Возможность купить конфиг на несколько устройств.